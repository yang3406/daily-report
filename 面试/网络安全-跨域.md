####为甚么有跨域,怎么实现跨域?
>同源策略:限制不同源的间的交互.用于隔离潜在恶意文件的重要安全机制。本质是一个域名的js,在未经允许的情况下,不得读取另外一个域名的内容。但浏览器并不会阻止你向另外一个域名发送请求。
没有同源策略前,风险:
1:接口-在你操作A网页的时候,打开某个有风险的B网页,B网页就可以获取A网页的cookie,添加到自己http请求的头字段cookie中.相当于登录A网站.可以对其进行各种操作。cookie是明文的,即使是有了同源策略,依旧可以拿得到,需要在服务器设置httpOnly,使得前端无法操作cookie
2:DOM-钓鱼网站,用iframe嵌入某个网站页面,骗取用户输入的用户名,密码。从而获取。
有了同源策略:
1:接口-不能操作cookie,请求接口失败
2:DOM-只能操作同域名下的DOM元素,非同源的只能跳转页面
怎么实现跨域?
1:jsonp-模拟加载script和image,后台处理特定格式的数据前端回调,只能发get请求
2:空iframe+form.页面用form提交到另外一个域名后,原页面无法获取新页面的内容,浏览器默认是安全的,用form.target=iframe.name接收，不这样会刷新整个页面或跳转页面.而ajax可以拿到响应,其实响应也是发出去了,只是浏览器认为不安全,没返回响应。
3:cors-跨域资源共享(标准).主要是后台设置。前端设置credentials:"include",设置请求源等。
4:代理-nginx(IE10以上):匹配请求路径转发。,前后端都不需要处理
5:同源策略下的DOM跨域。1:postmessage 2:document.domain
``` 
参考网址https://segmentfault.com/a/1190000015597029
